<p>
    Stephen is attempting to read a difficult and twisted chunk of text. Seeing his plight, Nikola and Sophia secretly
    decided to help and created a simple encoding rule for all ship messages, which should be hidden from Stephan. Let's
    help them to realize their algorithm.
</p>

<p>
    You are given a text. Words contain only letters, numbers only digits. So "2045th" is two constructions - the number
    2045 and the word "th". Words/numbers can be separated by white-spaces and punctuation symbols
    <strong>!#$%&()*+,-./:;<=>?@[\]^_`{|}~</strong>.
    The text has only one line without any newlines. You should encode and twist the text using the following rules:

</p>


<style>
    .rules li {
        margin: 3px 0 3px 20px;
        list-style: disc;
    }

    .rules li ul li {
        list-style: square;
    }

</style>
<ul class="rules">
    <li>
        Reverse each word<br> "Hello" &rArr; "olleH".
    </li>
    <li>
        Swap letter case, uppercase to lowercase and versus.<br> "AsD" &rArr; "aSd".
    </li>
    <li>
        Change each digit in numbers to the difference between 9 and the digit.<br> "140" &rArr; "859" (9-1=8, 9-4=5,
        9-0=9).
    </li>
    <li>
        Replace some punctuation symbols to each other with the follow list:
        <ul>
            <li>"," &hArr; "."</li>
            <li>"!" &hArr; "?"</li>
            <li>"(" &hArr; ")"</li>
            <li>"{" &hArr; "}"</li>
            <li>"[" &hArr; "]"</li>
            <li>"&lt;" &hArr; "&gt;"</li>
            <li>"@" &hArr; "#"</li>
            <li>";" &hArr; ":"</li>
        </ul>
    </li>
    <li>
        Truncate several consecutive whitespaces in one.<br> "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;" &rArr; "&nbsp;".
    </li>

</ul>

<p>
    There is one restriction however, to evade Stephens detection, your code should have no more than <strong>12
    lines</strong> with no
    more than <strong>80 symbols</strong> in each line and "\t" will be counted as 4 symbols.

</p>

<p>
    Nikola and Sophiaâ€™s main goal is to have a bit of fun, so in this mission you should get the maximum number of
    <a href="http://dinsdale.python.org/dev/peps/pep-0008/">PEP8</a> errors. We will check your code with the
    <a href="https://github.com/jcrocholl/pep8.git">pep8 module</a>
    (<a href="https://github.com/jcrocholl/pep8/releases/tag/1.5.7">version 1.5.7</a>)
    and so the PEP8 requirements are not too important here. Take a look at the module- it's important for this mission.
    <br>
    For each error ("EXYZ") you will get 2 points, for each warning ("WXYZ") -- 1 points.
</p>
<p>
    <strong>Input: </strong> A text as a string.
</p>

<p>
    <strong>Output: </strong> The twisted text as a string.
</p>


<div class="for_info_only">
    <p>
        <strong>Example:</strong>
    </p>
    <pre class="brush: python">
twist("Hello World!") == "OLLEh DLROw?"
twist("I`m 1st") == "i`M 8TS"
twist("How are you? 905th.") == "WOh ERA UOY! 094HT,"
twist("The code - ([{&lt;;#&gt;}])") == "EHt EDOC - )]}&gt;:@&lt;{[("
twist("EMAIL        a@b.ru") == "liame A#B,UR"
twist(";-) 0_0 @__@") == ":-( 9_9 #__#"
    </pre>
</div>

<p class="for_info_only">
    <strong>How it is used: </strong>
    Let's look at PEP8 more careful and examine the checking module for this. If you find some bugs, you can help to
    improve this important library for python community. You can create issues or patches for pep8 library via 
    <a href="https://github.com/">Github</a>.

</p>

<p>
    <strong>Precondition:</strong><br>
    0 &le; text &lt; 1000
</p>